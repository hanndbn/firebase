<!DOCTYPE html>
<!-- xlsx.js (C) 2013-present  SheetJS http://sheetjs.com -->
<!-- vim: set ts=2: -->
<html ng-app="app">
<head>
    <title>hannd</title>
    <script src="./js/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
    <!-- SheetJS js-xlsx library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.0.4/popper.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/slick.min.js"></script>
    <link rel="stylesheet" href="./styles/bootstrap.min.css"/>
    <link rel="stylesheet" href="./styles/slick-theme.css"/>
    <link rel="stylesheet" href="./styles/slick.css"/>
    <link rel="stylesheet" href="./styles/styles.css"/>
</head>
<body>
<div class="ads">
</div>
<script lang="javascript">
    $(document).ready(function () {
        $.ajax({
            type: 'GET',
            url: 'https://us-central1-footballfan-e341f.cloudfunctions.net/api/1.0/GetCountry',
            data: {},
            crossDomain: true,
            //contentType: 'application/json',
            //dataType: "json",
            //dataType: 'text',
            timeout: 300000,
            xhrFields: {
                withCredentials: false
            },
            success: function (data, textStatus, request) {
                let country = data.country
                console.log(country);
                //alert("country:" + country);
                let a = 'https://firebasestorage.googleapis.com/v0/b/footballfan-e341f.appspot.com/o/ad01_Malay.jpg?alt=media&token=6904b164-33d2-414a-98e1-66d0226889fd';
                if(country != 'SG'){
                    a = 'https://firebasestorage.googleapis.com/v0/b/footballfan-e341f.appspot.com/o/ad01_Malay.jpg?alt=media&token=6904b164-33d2-414a-98e1-66d0226889fd';
                }
                $('.ads').append(
                    `<div class="ads-img" style="background-image: url(${a});background-color: black"></div>`
                );

            },
            error: function (xhr, ajaxOptions, thrownError) {
                console.log(xhr.status);
                console.log(thrownError);
            }
        });

//        $('.ads').slick({
//            slidesToShow: 1,
//            slidesToScroll: 1,
//            autoplay: true,
//            autoplaySpeed: 10000,
//            dots: true,
//            //infinite: true,
//            //speed: 500,
//            fade: true,
//            cssEase: 'linear',
//            pauseOnHover: false
//        });
    });
    function shuffle(array) {
        let currentIndex = array.length, temporaryValue, randomIndex;

        // While there remain elements to shuffle...
        while (0 !== currentIndex) {

            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;

            // And swap it with the current element.
            temporaryValue = array[currentIndex];
            array[currentIndex] = array[randomIndex];
            array[randomIndex] = temporaryValue;
        }

        return array;
    }
</script>
</body>
</html>